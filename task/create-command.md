# カスタムスラッシュコマンドを作成するタスク

## 概要
ユーザーの要件を聞き、Planサブエージェントを使って計画を立て、スラッシュコマンドファイルとタスクファイルを生成します。

## 手順

### Phase 1: 要件収集

1. ユーザーに以下の質問をする

    ```
    どのようなコマンドを作成したいですか？

    以下の情報を教えてください：
    - **目的**: このコマンドで何を実現したいですか？
    - **背景**: どのような場面で使いたいですか？
    - **期待する動作**: AIにどのような作業をさせたいですか？

    例: 「PRのコードレビューを効率化したい。レビュー観点に沿ってコードをチェックし、指摘事項をまとめてほしい」
    ```

### Phase 2: 計画立案

2. Taskツールを使用してPlanサブエージェントを起動し、以下を計画させる

    ```
    ユーザーの要件に基づいて、カスタムスラッシュコマンドの設計を行ってください。

    ユーザー要件:
    {user_requirements}

    以下を提案してください：
    1. コマンド名（kebab-case）
    2. コマンドの説明（description）
    3. AIの役割
    4. 必要なツール（allowed-tools）
    5. タスクの詳細手順

    既存のコマンドパターンを参考に、実用的な設計を提案してください。
    参考ディレクトリ: ~/Documents/Git/ai-toolkit/slash-commands/
    ```

3. Planサブエージェントの提案を以下の形式でユーザーに提示する

    ```
    ## コマンド設計案

    | 項目 | 内容 |
    |------|------|
    | コマンド名 | {command_name} |
    | 説明 | {description} |
    | 役割 | {role} |
    | ツール | {allowed_tools} |

    ### 提案する手順
    {steps}

    この設計でよろしいですか？修正があればお知らせください。
    ```

4. 修正点があれば修正し、承認を得る

### Phase 3: ファイル生成

5. タスクファイルを生成する
    - パス: `~/Documents/Git/ai-toolkit/task/{command_name}.md`
    - テンプレート: 「タスクファイルのテンプレート」を使用

6. スラッシュコマンドファイルを生成する
    - パス: `~/Documents/Git/ai-toolkit/slash-commands/{command_name}.md`
    - テンプレート: 「スラッシュコマンドのテンプレート」を使用

7. 生成したファイルの内容をユーザーに提示し、最終確認を求める

### Phase 4: 完了

8. ユーザーの承認を得る
    - 修正点があれば修正する

9. 作成したコマンドの使用方法を説明する
    - コマンドの呼び出し方: `/{command_name}`


## テンプレート参照

ファイル生成時は以下のテンプレートファイルを参照すること：

- スラッシュコマンド: `~/Documents/Git/ai-toolkit/templates/slash-command-template.md`
- タスクファイル: `~/Documents/Git/ai-toolkit/templates/task-template.md`


## 命名規則

- コマンド名: kebab-case（例: `create-command`, `review-code`）
- スラッシュコマンドとタスクファイルは同じ名前にする


## 注意事項

- 既存のコマンドと重複しないよう、生成前に `~/Documents/Git/ai-toolkit/slash-commands/` を確認する
- 生成前に必ずユーザーの承認を得る
- Planサブエージェントには既存のコマンドパターンを参考にさせる
