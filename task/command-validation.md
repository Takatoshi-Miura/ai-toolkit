# コマンドのテンプレート整合性チェックタスク

## 概要
スラッシュコマンドファイルとタスクファイルが、テンプレートに準拠しているかをチェックする共通タスク。
create-command、update-command から呼び出される。

## チェック項目

### スラッシュコマンドファイル
- [] フロントマターが `---` で囲まれているか
- [] `allowed-tools` が存在するか
- [] `description` が存在するか
- [] `# 役割` セクションが存在するか
- [] `日本語で回答すること。` が含まれているか
- [] `# 手順` セクションが存在するか
- [] タスクファイルへの参照パスが正しいか（タスクファイルがある場合）

### タスクファイル
- [] `# {タイトル}` 形式のタイトルがあるか
- [] `## 概要` セクションが存在するか
- [] `## 手順` セクションが存在するか

### 命名規則
- [] ファイル名がkebab-caseか
- [] スラッシュコマンドとタスクファイルの名前が一致しているか（タスクファイルがある場合）

## 手順

1. 対象ファイルのパスを受け取る
   - スラッシュコマンドファイル: `~/Documents/Git/ai-toolkit/slash-commands/{command_name}.md`
   - タスクファイル: `~/Documents/Git/ai-toolkit/task/{command_name}.md`（存在する場合）

2. スラッシュコマンドファイルのチェックを実施
   - フロントマター形式の確認
   - 必須項目（allowed-tools, description）の存在確認
   - 必須セクション（役割、手順）の存在確認
   - 「日本語で回答すること。」の記載確認

3. タスクファイルが存在する場合、タスクファイルのチェックを実施
   - タイトル形式の確認
   - 必須セクション（概要、手順）の存在確認

4. 命名規則のチェックを実施
   - kebab-case準拠の確認
   - ファイル名の一致確認

5. チェック結果を以下の形式で出力する

   ```
   ### テンプレート整合性チェック結果

   #### スラッシュコマンドファイル
   - [OK/NG] フロントマター形式（---で囲まれている）
   - [OK/NG] allowed-toolsが存在する
   - [OK/NG] descriptionが存在する
   - [OK/NG] 役割セクションが存在する
   - [OK/NG] 「日本語で回答すること。」が含まれている
   - [OK/NG] 手順セクションが存在する
   - [OK/NG] タスクファイルへの参照パスが正しい

   #### タスクファイル
   - [OK/NG] タイトル形式が正しい
   - [OK/NG] 概要セクションが存在する
   - [OK/NG] 手順セクションが存在する

   #### 命名規則
   - [OK/NG] ファイル名がkebab-case
   - [OK/NG] スラッシュコマンドとタスクファイルの名前が一致
   ```

## 参考テンプレート

チェック基準となるテンプレートファイル:
- スラッシュコマンド: `~/Documents/Git/ai-toolkit/templates/slash-command-template.md`
- タスクファイル: `~/Documents/Git/ai-toolkit/templates/task-template.md`
